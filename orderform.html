<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BANANA MOVE | Order Form</title>
    <link rel="stylesheet" href=			 "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- library validate -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.js"></script>
    <!-- style css -->
    <link rel="stylesheet" href="orderform.css">

</head>
<!----------------------------------------------------BODY----------------------------------------------------------------------------------------------------------------------->
<body>
    <div class="wrapper">
        <div class="menu-bar">
            <div class="container">
    
                <nav class="navbar sticky-top navbar-expand-md">
                    <a class="navbar-brand" href="HOME.html"><img src="image/BM-LOGO1.png"></a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-bars"></i> <!----icon---->
                    </button>
            
                    <div class="collapse navbar-collapse" id="navbarNavDropdown">
                      <ul class="navbar-nav ml-auto">
            
                        <li class="nav-item"> <!----------------------------HOME----------------------------->
							<a class="nav-link active" href="HOME.html">HOME </a>
						  </li>
  
						  <li class="nav-item"> <!----------------------------MENU----------------------------->
							  <a class="nav-link" href="menu.php">MENU</a>
						  </li>
						  
						  <li class="nav-item dropdown"> <!----------------------------SERVICE----------------------------->
							  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								SERVICE
							  </a>
							  <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
								<a class="dropdown-item" href="shipping.html">shipping</a>
								<a class="dropdown-item" href="payment.html">payment</a>
						  </div>
						  </li>
  
						  <li class="nav-item"> <!----------------------------FEEDBACK----------------------------->
							<a class="nav-link" href="Feedback.html">FEEDBACK</a>
						  </li>
			  
						  <li class="nav-item"> <!----------------------------CONTACT----------------------------->
							  <a class="nav-link" href="contact.html">CONTACT</a>
						  </li>
                      </ul>
                </nav>
            </div>
        </div> <!------------------------END OF MENU NAVIGATION BAR--------------------------------------------------------------------------------->
<br/><br/>
	<!--------------------------------CHECKOUT FORM--------------------------------->
<h2>Order Form</h2>
<br/>
<div class="row">
    <div class="col-75">
        <section class="box-con">
            <form id="validate" <form method="get" autocomplete="on">
                <div class="row">
                    <div class="col-50">
                        <h3>Billing Address</h3>
                        <label for="fname"><i class="fa fa-user"></i> Full Name</label>
                        <input type="text" id="fname" name="fullname" required>
                        <label for="email"><i class="fa fa-envelope"></i> Email</label>
                        <input type="text" id="email" name="email" required >
                        <label for="adr"><i class="fa fa-address-card-o"></i> Address</label>
                        <input type="text" id="adr" name="address" required >
                        <label for="city"><i class="fa fa-institution"></i> City</label>
                        <input type="text" id="city" name="city" required>

                        <div class="row">
                            <div class="col-50">
                                <label for="state">State</label>
                                <input type="text" id="state" name="state" required>
                            </div>
                            <div class="col-50">
                                <label for="zip">Zip</label>
                                <input type="text" id="zip" name="zip"required>
                            </div>
                        </div>
                    </div>

                    <div class="col-50">
                        <h3>Payment</h3>
                        <label for="fname">Accepted Cards</label>
                        <div class="icon-container">
                            <i class="fa fa-cc-visa" style="color:navy;"></i>
                            <i class="fa fa-cc-amex" style="color:blue;"></i>
                            <i class="fa fa-cc-mastercard" style="color:red;"></i>
                            <i class="fa fa-cc-paypal" style="color:blue;"></i>
                        </div>

                        <label for="cname">Name on Card</label>
                        <input type="text" id="cname" name="cardname" required>
                        <label for="ccnum">Credit card number</label>
                        <input type="text" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444"required>
                        <label for="expmonth">Exp Month</label>
                        <input type="text" id="expmonth" name="expmonth" required>
                        <div class="row">
                            <div class="col-50">
                                <label for="expyear">Exp Year</label>
                                <input type="text" id="expyear" name="expyear" required>
                            </div>
                            <div class="col-50">
                                <label for="cvv">CVV</label>
                                <input type="text" id="cvv" name="cvv" required>
                            </div>
                        </div>
                    </div>
                </div>
                <label>
                <input type="checkbox" checked="checked" name="sameadr"> Shipping address same as billing
                </label>
                <button type ="submit" class="btn">Proceed to Checkout</button>
				<input type="reset" value= "reset" class="btn" id="reset">
            </form>
        </section>
    </div>

<!----------------------END OF CHECKOUT FORM------------------------>

<!--script pass value -->
<script>
const form = document.getElementById('validate');
const fullname = document.getElementById('fname');
const email = document.getElementById('email');
const address = document.getElementById('adr');
const city = document.getElementById('city');
const state = document.getElementById('state');
const zip = document.getElementById('zip');
const cardname = document.getElementById('cname');
const cardnumber = document.getElementById('ccnum');
const expmonth = document.getElementById('expmonth');
const expyear = document.getElementById('expyear');	
const cvv = document.getElementById('cvv');

form.addEventListener('submit', function(e) {
e.preventDefault();

const fullnameValue = fullname.value;
const emailValue = email.value;
const addressValue = address.value;
const cityValue = city.value;
const stateValue = state.value;
const zipValue = zip.value;
const cnameValue = cardname.value;
const cnumValue = cardnumber.value;
const expmonthValue = expmonth.value;
const expyearValue = expyear.value;
const cvvValue = cvv.value;

sessionStorage.setItem('fullname', fullnameValue);
sessionStorage.setItem('email', emailValue);
sessionStorage.setItem('address', addressValue);
sessionStorage.setItem('city', cityValue);
sessionStorage.setItem('state', stateValue);
sessionStorage.setItem('zip', zipValue);
sessionStorage.setItem('cname', cnameValue);
sessionStorage.setItem('cnum', cnumValue);
sessionStorage.setItem('expmonth', expmonthValue);
sessionStorage.setItem('expyear', expyearValue);
sessionStorage.setItem('cvv', cvvValue);


//window.location.href = "checkout.html";
saveTransaction();
})
</script>

<!-- script validate js -->
<script>
    $('#validate').validate({
        roles: {
            fullname: {
                required: true,
            },
            email: {
                required: true,
            },
            address: {
                required: true,
            },
            city: {
                required: true,
            },
            state: {
                required: true,
            },
            zip: {
                required: true,
            },
            cardname: {
                required: true,
            },
            cardnumber: {
                required: true,
            },
            expmonth: {
                required: true,
            },
            expyear: {
                required: true,
            },
            cvv: {
                required: true,
            },
           
        },
        messages: {
            fullname:"Please input full name*",
            email:"Please input email*",
            city:"Please input city*",
            address:"Please input address*",
            state:"Please input state*",
            zip:"Please input address*",
            cardname:"Please input card name*",
            cardnumber:"Please input card number*",
            expmonth:"Please input exp month*",
            expyear:"Please input exp year*",
            cvv:"Please input cvv*",
        },
    });
</script>


<script>
    function saveTransaction() {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                window.location.href = "checkout.html";
            }
        };
        xmlhttp.open("GET", "ajax-php-util/create_transaction.php?price=" + sessionStorage.getItem("price") + "&address=" + document.getElementById('adr').value, true);
        xmlhttp.send();
    }
</script>


</body>
</html>